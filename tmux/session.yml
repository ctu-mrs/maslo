name: maslo_uav_dataset
root: ./
startup_window: rosbag_play
pre_window: export UAV_NAME=uav25; export ROS_MASTER_URI=http://localhost:11311; export ROS_IP=127.0.0.1
windows:
  - roscore:
      layout: tiled
      panes:
        # run ros master as the first thing (other nodes wait for master)
        - roscore
        # use timestamps from rosbag instead of current wall time
        - ./waitForRos.sh; rosparam set use_sim_time true
  - rosbag_play:
      layout: tiled
      panes:
        # play the whole bag
        - ./waitForRos.sh; rosbag play $(rospack find mas_datasets)/bag_files/processed/rectangle_proc.bag --clock -r 1.0
        # publish static tfs
        - ./waitForRos.sh; roslaunch mas_datasets static_tfs.launch
  - maslo:
      layout: tiled
      panes:
        # run the MAS-LO algorithm
        - ./waitForRos.sh; roslaunch maslo.launch 
  - rviz:
      layout: tiled
      panes:
        # run rviz
        - ./waitForRos.sh; rosrun rviz rviz -d ./rviz.rviz
